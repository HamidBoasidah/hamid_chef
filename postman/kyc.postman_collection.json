{
  "info": {
    "_postman_id": "kyc-collection-001",
    "name": "MoonChef - KYC",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Postman collection for KYC API endpoints (user-facing)"
  },
  "item": [
    {
      "name": "List KYCs (index)",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Accept", "value": "application/json" },
          { "key": "Authorization", "value": "Bearer {{token}}", "type": "text" }
        ],
        "url": { "raw": "{{baseUrl}}kycs", "host": ["{{baseUrl}}"], "path": ["kycs"] },
        "description": "Get paginated list of KYC records (API)"
      },
      "response": []
    },
    {
      "name": "Create KYC (store)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Accept", "value": "application/json" },
          { "key": "Authorization", "value": "Bearer {{token}}", "type": "text" }
        ],
        "body": {
          "mode": "formdata",
          "formdata": [
            { "key": "user_id", "value": "1", "type": "text" },
            { "key": "full_name", "value": "Ahmed Ali", "type": "text" },
            { "key": "gender", "value": "male", "type": "text" },
            { "key": "date_of_birth", "value": "1990-01-01", "type": "text" },
            { "key": "address", "value": "Cairo, Egypt", "type": "text" },
            { "key": "document_type", "value": "passport", "type": "text" },
            { "key": "document_scan_copy", "type": "file", "src": "" },
            { "key": "status", "value": "pending", "type": "text" },
            { "key": "is_verified", "value": "false", "type": "text" }
          ]
        },
        "url": { "raw": "{{baseUrl}}kycs", "host": ["{{baseUrl}}"], "path": ["kycs"] },
        "description": "Create a new KYC record (API). Use form-data; attach document in `document_scan_copy` field."
      },
      "response": []
    },
    {
      "name": "Show KYC (show)",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Accept", "value": "application/json" },
          { "key": "Authorization", "value": "Bearer {{token}}", "type": "text" }
        ],
        "url": { "raw": "{{baseUrl}}kycs/:kycId", "host": ["{{baseUrl}}"], "path": ["kycs",":kycId"] },
        "description": "Show a single KYC record (replace :kycId with the ID)"
      },
      "response": []
    },
    {
      "name": "Edit KYC (edit)",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Accept", "value": "application/json" },
          { "key": "Authorization", "value": "Bearer {{token}}", "type": "text" }
        ],
        "url": { "raw": "{{baseUrl}}kycs/:kycId/edit", "host": ["{{baseUrl}}"], "path": ["kycs",":kycId","edit"] },
        "description": "Get edit data for a KYC record (replace :kycId)"
      },
      "response": []
    },
    {
      "name": "Update KYC (update)",
      "request": {
        "method": "PUT",
        "header": [
          { "key": "Accept", "value": "application/json" },
          { "key": "Authorization", "value": "Bearer {{token}}", "type": "text" },
          { "key": "Content-Type", "value": "application/json" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"full_name\": \"Ahmed Ali Updated\",\n  \"status\": \"approved\",\n  \"is_verified\": true,\n  \"verified_at\": \"2025-12-08\"\n}",
          "options": { "raw": { "language": "json" } }
        },
        "url": { "raw": "{{baseUrl}}kycs/:kycId", "host": ["{{baseUrl}}"], "path": ["kycs",":kycId"] },
        "description": "Update KYC record (replace :kycId). Use JSON body or form-data if updating file."
      },
      "response": []
    },
    {
      "name": "Delete KYC (destroy)",
      "request": {
        "method": "DELETE",
        "header": [
          { "key": "Accept", "value": "application/json" },
          { "key": "Authorization", "value": "Bearer {{token}}", "type": "text" }
        ],
        "url": { "raw": "{{baseUrl}}kycs/:kycId", "host": ["{{baseUrl}}"], "path": ["kycs",":kycId"] },
        "description": "Delete the specified KYC record (replace :kycId)"
      },
      "response": []
    },
    {
      "name": "View Document (inline)",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Accept", "value": "application/json" },
          { "key": "Authorization", "value": "Bearer {{token}}", "type": "text" }
        ],
        "url": { "raw": "{{baseUrl}}kycs/:kycId/document/view", "host": ["{{baseUrl}}"], "path": ["kycs",":kycId","document","view"] },
        "description": "Stream the document inline for viewing (replace :kycId)"
      },
      "response": []
    },
    {
      "name": "Download Document (attachment)",
      "request": {
        "method": "GET",
        "header": [
          { "key": "Accept", "value": "application/json" },
          { "key": "Authorization", "value": "Bearer {{token}}", "type": "text" }
        ],
        "url": { "raw": "{{baseUrl}}kycs/:kycId/document/download", "host": ["{{baseUrl}}"], "path": ["kycs",":kycId","document","download"] },
        "description": "Download the KYC document as attachment (replace :kycId)"
      },
      "response": []
    }
  ],
  "variable": [
    { "key": "baseUrl", "value": "http://127.0.0.1:8000/api/", "type": "string" },
    { "key": "token", "value": "<YOUR_ADMIN_TOKEN>", "type": "string" }
  ]
}
